[{"/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/index.js":"1","/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/App.js":"2","/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/reportWebVitals.js":"3","/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/components/Author.js":"4","/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/components/Auth.js":"5","/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/components/Project.js":"6"},{"size":535,"mtime":1668700101036,"results":"7","hashOfConfig":"8"},{"size":4343,"mtime":1673186912183,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1668700101036,"results":"10","hashOfConfig":"8"},{"size":605,"mtime":1668700101036,"results":"11","hashOfConfig":"8"},{"size":1004,"mtime":1672867308654,"results":"12","hashOfConfig":"8"},{"size":970,"mtime":1668700101036,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"f3bdzb",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":3,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/index.js",[],[],"/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/App.js",["33","34","35","36","37","38","39","40","41","42","43","44","45"],[],"import React from 'react'\nimport logo from './logo.svg'\nimport './App.css'\nimport AuthorList from './components/Author.js'\nimport ProjectList from './components/Project.js'\nimport LoginForm from './components/Auth.js'\n\nimport axios from 'axios'\n\nimport { BrowserRouter, Route, Switch, Redirect, Link } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\n\nconst NotFound404 = ({ location }) => {\n  return (\n    <div>\n      <h1>Страница по адресу '{location.pathname}' не найдена</h1>\n    </div>\n  )\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'authorts': [],\n      'projects': [],\n      'token': ''\n\n    }\n  }\n\n  set_token(token) {\n    const cookies = new Cookies()\n    cookies.set('token', token)\n    this.setState({ 'token': token })\n  }\n\n  is_authenticated() {\n    return this.state.token != ''\n  }\n  logout() {\n    this.set_token('')\n  }\n\n  get_token_from_storage() {\n    const cookies = new Cookies()\n    const token = cookies.get('token')\n    this.setState({ 'token': token })\n  }\n\n  get_token(username, password) {\n    axios.post('http://127.0.0.1:8000/api-token-auth/', {\n      username: username,\n      password: password\n    })\n      .then(response => {\n        this.set_token(response.data['token'])\n      }).catch(error => alert('Неверный логин или пароль'))\n  }\n\n  load_data() {\n    axios.get('http://127.0.0.1:8000/api/projects/')\n      .then(response => {\n        this.setState({ authors: response.data })\n      }).catch(error => console.log(error))\n  }\n\n  componentDidMount() {\n    axios.get('http://127.0.0.1:8000/api/authors')\n      .then(response => {\n        const authors = response.data\n        this.setState(\n          {\n            'authors': authors,\n            // 'project': project\n          }\n        )\n      }).catch(error => console.log(error))\n  }\n\n  render() {\n    return (\n\n      <div className=\"App\">\n\n        <Route exact path='/books/create' component={() => <BookForm />} />\n        <Route exact path='/books' component={() => <BookList items={this.state.books} deleteBook={(id) => this.deleteBook(id)} />} />\n        <Route exact path='/books/create' component={() => <BookForm createBook={(name, author) => this.createBook(name, author)} />} />\n\n\n        <ProjectList projects={this.state.projects} />\n        <li>\n          <Link to='/login'>Login</Link>\n        </li>\n\n      </div>\n    )\n  }\n\n  deleteBook(id) {\n    const headers = this.get_headers()\n    axios.delete(`http://127.0.0.1:8000/api/books/${id}`, { headers, headers })\n      .then(response => {\n        this.setState({\n          books: this.state.books.filter((item) => item.id !==\n            id)\n        })\n      }).catch(error => console.log(error))\n  }\n\n  createBook(name, author) {\n    const headers = this.get_headers()\n    const data = { name: name, author: author }\n    axios.post(`http://127.0.0.1:8000/api/books/`, data, { headers, headers })\n      .then(response => {\n        let new_book = response.data\n        const author = this.state.authors.filter((item) => item.id ===\n          new_book.author)[0]\n        new_book.author = author\n        this.setState({ books: [...this.state.books, new_book] })\n      }).catch(error => console.log(error))\n  }\n\n}\n\nexport default App;\n\n\n// class App extends React.Component {\n//   constructor(props) {\n//     super(props)\n//     this.state = {\n//       'authors': [],\n//       'project': []\n//     }\n//   }\n\n//   componentDidMount() {\n//     axios.get('http://127.0.0.1:8000/api/authors')\n//       .then(response => {\n//         const authors = response.data\n//         this.setState(\n//           {\n//             'authors': authors,\n//             'project': project\n//           }\n//         )\n//       }).catch(error => console.log(error))\n//   }\n\n//   render() {\n//     return (\n//       <div>\n//         <AuthorList authors={this.state.authors} />\n//       </div>\n//     )\n//   }\n// }\n\n// export default App;\n\n\n// axios.get('http://127.0.0.1:8000/project/projects')\n// .then(response => {\n//     const authors = response.data\n//   this.setState(\n//   {\n//     'projects': projects\n//   }\n// )\n// }).catch (error => console.log(error))\n// }\n\n// render() {\n//   return (\n//     <div>\n//       <ProjectList projects={this.state.projects} />\n//     </div>\n//   )\n// }","/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/reportWebVitals.js",[],[],"/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/components/Author.js",[],[],"/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/components/Auth.js",[],[],"/home/alex/Документы/GeekBrains/DjangoREST_framework/DjangoRest/DjangoRest/frontend/src/components/Project.js",[],[],{"ruleId":"46","severity":1,"message":"47","line":2,"column":8,"nodeType":"48","messageId":"49","endLine":2,"endColumn":12},{"ruleId":"46","severity":1,"message":"50","line":4,"column":8,"nodeType":"48","messageId":"49","endLine":4,"endColumn":18},{"ruleId":"46","severity":1,"message":"51","line":6,"column":8,"nodeType":"48","messageId":"49","endLine":6,"endColumn":17},{"ruleId":"46","severity":1,"message":"52","line":10,"column":10,"nodeType":"48","messageId":"49","endLine":10,"endColumn":23},{"ruleId":"46","severity":1,"message":"53","line":10,"column":32,"nodeType":"48","messageId":"49","endLine":10,"endColumn":38},{"ruleId":"46","severity":1,"message":"54","line":10,"column":40,"nodeType":"48","messageId":"49","endLine":10,"endColumn":48},{"ruleId":"46","severity":1,"message":"55","line":13,"column":7,"nodeType":"48","messageId":"49","endLine":13,"endColumn":18},{"ruleId":"56","severity":1,"message":"57","line":39,"column":29,"nodeType":"58","messageId":"59","endLine":39,"endColumn":31},{"ruleId":"60","severity":2,"message":"61","line":86,"column":61,"nodeType":"62","messageId":"63","endLine":86,"endColumn":69},{"ruleId":"60","severity":2,"message":"64","line":87,"column":54,"nodeType":"62","messageId":"63","endLine":87,"endColumn":62},{"ruleId":"60","severity":2,"message":"61","line":88,"column":61,"nodeType":"62","messageId":"63","endLine":88,"endColumn":69},{"ruleId":"65","severity":1,"message":"66","line":102,"column":70,"nodeType":"67","messageId":"59","endLine":102,"endColumn":77},{"ruleId":"65","severity":1,"message":"66","line":114,"column":69,"nodeType":"67","messageId":"59","endLine":114,"endColumn":76},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'AuthorList' is defined but never used.","'LoginForm' is defined but never used.","'BrowserRouter' is defined but never used.","'Switch' is defined but never used.","'Redirect' is defined but never used.","'NotFound404' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react/jsx-no-undef","'BookForm' is not defined.","JSXIdentifier","undefined","'BookList' is not defined.","no-dupe-keys","Duplicate key 'headers'.","ObjectExpression"]